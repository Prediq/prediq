.modal{:id => "role-options-#{user.id}", :style => "display: none;"}
  = simple_form_for user, :url => user_path(user), :html => {:method => :put, :class => 'form-horizontal' } do |f|
    .modal-header
      %a.close{"data-dismiss" => "modal"} Ã—
      %h3 Change Role
    .modal-body
      = f.input :role_ids, :collection => Role.all, :as => :radio_buttons, :label_method => lambda {|t| t.name.titleize}, :label => false, :item_wrapper_class => 'inline', checked: user.role_ids.first
      -#= f.input :role_ids, :collection => Role.all, :as => :check_boxes, :label_method => lambda {|t| t.name.titleize}, :label => false, :item_wrapper_class => 'inline', selected: user.role_ids
    .modal-footer
      = f.submit "Change Role", :class => "btn btn-primary"
      %a.btn{"data-dismiss" => "modal", :href => "#", :class => "btn btn-primary", :type => 'button'} Close

    = hidden_field_tag :user_id,        user_id?
    = hidden_field_tag "page",          params[:page]
    = hidden_field_tag "num_per_page",  params[:num_per_page]
    = hidden_field_tag "sort",          params[:sort]
    = hidden_field_tag "direction",     params[:direction]
    = hidden_field_tag "name",          (params[:name].present?)        ? params[:name]         : nil
    = hidden_field_tag "employee_id",   (params[:employee_id].present?) ? params[:employee_id]  : nil
    = hidden_field_tag "func",          (params[:func].present?)        ? params[:func]         : nil
    = hidden_field_tag "search",        (params[:search].present?)      ? params[:search]       : nil
